It should be done on your VM serverX .
Users: you (student), janis, grace

Exercise #1

1. Crea un directorio dentro de /tmp llamado tempdir_student. Accede a él.

2. Crea un fichero dentro del directorio tempdir_student llamado texxto con algo escrito dentro. Dale premisos 600. Verifica que janis no puede leer el file, haz un ls -l. 

3. Añade un acl que permita a janis leer texxto. Vuelve a ver los permisos con ls -l, ¿qué ha cambiado?

4. Examina la ACL que has añadido con getfacl. Verifica que janis puede leer el fichero texxto.

5. Observa que tú y janis tenéis acceso de lectura al file texxto, pero grace no lo tiene. Añade una acl que permita a grace leer y editar el fichero texxto. Verifica que efectivamente grace puede leer y modificar el fichero.

6. Aplica otra vez chmod 600 al fichero texxto. Examina con ls -l y getfacl el fichero, ¿qué sucede? ¿Puede janis leer el file?

7. Elimina el fichero texxto.

------------
SOLUCION:

useradd janis
useradd grace
passwd janis
passwd grace

1. Creo el directorio /tmp/tempdir_student:

	mkdir /tmp/tempdir_student
	cd /tmp/tempdir_student

2. Creo fichero /tmp/tempdir_student/texxto.txt:

	echo "Esto es una prueba" > texxto.txt
	cat > /tmp/tempdir_student/texxto.txt << EOF
	> Esto es una prueba
	> EOF
	chmod 600 /tmp/tempdir_student/texxto.txt
	ls -l

3. Añado la ACL para janis:

	setfacl -m u:janis:r /tmp/tempdir_student/texxto.txt
	ls -l

4. Verifico:

	getfacl /tmp/tempdir_student/texxto.txt
	su - janis
	less /tmp/tempdir_student/texxto.txt => Permiso de lectura al añadirle una ACL.

5. Verifico que grace no tiene acceso.

	su - student
	less /tmp/tempdir_student/texxto.txt => El fichero es suyo y tiene permisos 6(rw) como usuario propietario.
	su - grace
	less /tmp/tempdir_student/texxto.txt => No tiene ACL y permiso de Otros 0.

	setfacl -m u:grace:rw /tmp/tempdir_student/texxto.txt
	less /tmp/tempdir_student/texxto.txt
	vim /tmp/tempdir_student/texxto.txt

6. Cambio permisos:
	chmod 600 /tmp/tempdir_student/texxto.txt
	ls -l /tmp/tempdir_student/texxto.txt
	getfacl /tmp/tempdir_student/texxto.txt
	Cambia la mascara del fichero



7.
rm -f /tmp/tempdir_student/texxto.txt

--> OK
