EJERCICIO FS GRUPOS
====================

- Resetear "serverX"

- Crear en "serverX" los grupos "cientificos", "tecnicos", "asistentes" y "directores".

- Crear los usuarios: pperez, flopez, mgarcia, dmartin, nvalverde, msoria, bfernandez, sabiendo que "pperez" y "mgarcia" son científicos, "flopez" y "dmartin" son técnicos, "bfernandez" es asistente, "nvalverde" y "msoria" son directores.
 
- Crear en / filesystems XFS creados sobre particiones del disco vdb:
    -  4 directorios colaborativos, uno por grupo de los creados en el apartado anterior, con el nombre del grupo.
    -  3 los directorios comunes para todos ellos de "documentos", "fotos", "videos".
  
   El tamaño de las particiones será de 1GiB para cada grupo y 1.5GiB para los otros directorios.

- El montaje de los filesystems debe ser persistente y sólo los usuarios que crean ficheros en ellos los podrán borrar.

- Crear swap adicional en vdb de 512MiB con la etiqueta "swapextra" y que sea persistente.

SOLUCIÓN:
---------

- Creo los grupos:

   for grupo in {cientificos,tecnicos,asistentes,directores};do groupadd $grupo;done

- Creo los usuarios 

   for usu in {pperez,mgarcia};do useradd -G cientificos $usu;done
   for usu in {flopez,dmartin};do useradd -G tecnicos $usu;done
   useradd -G asistentes bfernandez
   for usu in {nvalverde,msoria};do useradd -G directores $usu;done

- Creo los puntos de montaje para los directorios colaborativos, pongo grupo adecuado y los hago colaborativos:
    
   for grupo in {cientificos,tecnicos,asistentes,directores};do mkdir /$grupo;chown :$grupo /$grupo;chmod g+ws /$grupo;done
   for directorio in {documentos,fotos,videos};do mkdir /$directorio;chmod o+w /$directorio;done

- Particiono el disco:
    /dev/vdb1 -> para /cientificos
    /dev/vdb2 -> para /tecnicos
    /dev/vdb3 -> para /asistentes
    /dev/vdb5 -> para /directores
    /dev/vdb6 -> para /documentos
    /dev/vdb7 ->  para /fotos
    /dev/vdb8 -> para /videos
    /dev/vdb9 -> para swap

- Doy formato xfs a las particiones de los filesystems:

   for parti in {1..3} {5..9};do mkfs -t xfs /dev/vdb$parti;done

- Doy formato a la partición de swap:
  
   mkswap -L swapextra /dev/vdb9

- Modifico el /etc/vfstab añadiendo las líneas:
 
    /dev/vdb1 /cientificos xfs defaults 0 0
    /dev/vdb2  /tecnicos xfs defaults 0 0
    /dev/vdb3 /asistentes xfs defaults 0 0
    /dev/vdb5 /directores xfs defaults 0 0
    /dev/vdb6 /documentos xfs defaults 0 0
    /dev/vdb7 /fotos xfs defaults 0 0
    /dev/vdb8 /videos xfs defaults 0 0
    /dev/vdb9  swap swap defaults 0 0

- Aplico cambios del /etc/fstab:

   mount -a

- Hago que solo el usuario que crea pueda borrar en los directorios:

    for grupo in {cientificos,tecnicos,asistentes,directores,documentos,fotos,videos};do chmod o+t /$grupo;done
